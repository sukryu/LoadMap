# 실시간 데이터 스트리밍 플랫폼 프로젝트

## 프로젝트 개요
이 프로젝트는 OTP와 Elixir의 고동시성, 분산 처리, 내결함성 기능을 활용하여 **실시간 데이터 스트리밍 플랫폼**을 구현한 예제입니다.  
본 시스템은 다양한 소스(센서, 로그, 소셜 미디어 등)로부터 데이터를 실시간으로 수집, 처리, 분석하며, 결과를 저장 또는 실시간 대시보드로 전송하는 역할을 수행합니다.  
높은 처리량과 낮은 지연 시간, 그리고 자동 장애 복구 기능을 통해 대규모 데이터 스트리밍 환경에서도 안정적인 서비스를 제공합니다.

---

## 주요 기능
- **실시간 데이터 수집:**  
  - 다양한 데이터 소스로부터 스트리밍 데이터를 실시간으로 수집합니다.
  - 데이터 인제스천(ingestion) 모듈은 소스별 프로토콜(MQTT, HTTP, TCP 등)에 따라 데이터를 수신합니다.
  
- **데이터 처리 및 변환:**  
  - 수집된 데이터를 필터링, 변환, 집계하여 의미 있는 정보를 도출합니다.
  - 스트림 처리 파이프라인을 통해 데이터 정제 및 실시간 분석을 수행합니다.
  
- **실시간 데이터 전송:**  
  - 처리된 데이터를 실시간으로 데이터베이스, 대시보드, 외부 API 등으로 전송합니다.
  - Pub/Sub 모델을 적용하여, 다수의 구독자가 최신 데이터를 동시에 받아볼 수 있습니다.
  
- **장애 복구 및 자동 재시작:**  
  - Supervisor를 통해 각 스트림 처리 모듈의 장애를 감시하고, 자동 재시작을 수행하여 내결함성을 확보합니다.
  
- **분산 처리 및 확장성:**  
  - 여러 노드에 걸쳐 데이터 스트리밍 작업을 분산하여 실행함으로써, 대량의 데이터를 빠르고 효율적으로 처리합니다.
  - 동적 워크로드 분산과 클러스터링 기능을 제공하여, 시스템 확장이 용이합니다.

---

## 시스템 아키텍처

### 프로세스 구조
- **데이터 인제스터 (Data Ingestor):**  
  - 외부 데이터 소스와의 연결을 관리하며, 스트리밍 데이터를 수신합니다.
  - 각 인제스터는 소스별 특성에 맞게 독립적인 프로세스로 동작합니다.

- **스트림 처리 파이프라인:**  
  - 수신된 원시 데이터를 실시간으로 필터링, 변환, 집계하는 여러 단계의 처리 모듈로 구성됩니다.
  - 각 단계는 GenServer 또는 Task를 사용하여 병렬 처리 및 효율적인 데이터 흐름을 보장합니다.

- **데이터 전송 및 저장:**  
  - 처리된 데이터를 데이터베이스, 캐시, 혹은 실시간 대시보드로 전송합니다.
  - Pub/Sub 메커니즘을 통해 다수의 구독자가 최신 데이터를 수신할 수 있도록 합니다.

- **Supervisor 트리:**  
  - 전체 스트림 처리 시스템을 구성하는 각 모듈(데이터 인제스터, 처리 파이프라인, 전송 모듈 등)을 감시하며, 장애 발생 시 자동 재시작 및 복구를 수행합니다.

### OTP 구성 요소 활용
- **GenServer:**  
  - 데이터 인제스터와 각 처리 단계의 상태 관리 및 메시지 처리를 담당합니다.
  
- **Supervisor:**  
  - 각 모듈의 장애를 감시하고, 정의된 재시작 전략에 따라 자동 복구합니다.
  
- **Task 및 비동기 처리:**  
  - 데이터 처리 파이프라인에서 병렬 처리 및 비동기 작업을 수행하여, 높은 처리량과 낮은 지연 시간을 구현합니다.
  
- **분산 기능:**  
  - 여러 노드 간 통신을 통해, 클러스터 환경에서 데이터 스트리밍 작업을 분산 처리하고, 동적 확장을 지원합니다.

---

## 설치 및 실행 방법

### 요구 사항
- Erlang/OTP 24 이상
- Elixir 1.12 이상
- Linux, macOS 또는 Windows 운영체제
- 안정적인 네트워크 연결 및 분산 클러스터 구성 환경 (분산 기능 사용 시)

### 설치 방법

1. **Erlang/OTP 및 Elixir 설치**
   - **Ubuntu/Debian:**
     ```bash
     sudo apt-get update
     sudo apt-get install erlang elixir
     ```
   - **macOS (Homebrew):**
     ```bash
     brew install erlang elixir
     ```
   - **Windows:**
     - [Elixir 공식 웹사이트](https://elixir-lang.org/install.html)에서 설치 프로그램을 다운로드하거나, Chocolatey를 이용:
       ```bash
       choco install erlang
       choco install elixir
       ```

2. **프로젝트 클론**
   ```bash
   git clone https://github.com/your-repo/real-time-data-streaming.git
   cd real-time-data-streaming
   ```

3. **컴파일**
   - 프로젝트 루트 디렉토리에서 Mix를 사용하여 소스 파일들을 컴파일합니다.
     ```bash
     mix compile
     ```

### 실행 방법

1. **IEx 셸 시작**
   ```bash
   iex -S mix
   ```

2. **데이터 스트리밍 시스템 시작**
   - IEx 셸에서 다음 명령을 실행하여 시스템을 시작합니다.
     ```elixir
     RealTimeDataStreaming.start()
     ```
   - 시스템은 데이터 인제스터, 처리 파이프라인, 전송 모듈 등 전체 Supervisor 트리를 초기화하고 실행합니다.

3. **테스트 데이터 전송**
   - 테스트 모듈이나 외부 데이터 소스를 통해 임의의 데이터를 스트리밍합니다.
     ```elixir
     RealTimeDataStreaming.ingest(%{source: "sensor_01", value: 42.7, timestamp: :os.system_time(:millisecond)})
     ```
   - 전송된 데이터는 실시간으로 처리되어, 로그 또는 대시보드를 통해 결과를 확인할 수 있습니다.

4. **분산 클러스터 구성 (선택 사항)**
   - 여러 노드를 연결하여 클러스터 환경에서 데이터를 분산 처리하고, 동기화 기능을 테스트할 수 있습니다.
     ```elixir
     Node.connect(:"node2@hostname")
     RealTimeDataStreaming.sync()
     ```

---

## 코드 구조

- **src/real_time_data_streaming.ex:**  
  전체 데이터 스트리밍 시스템의 시작 및 초기화 로직을 구현한 모듈입니다. Supervisor 트리 구성을 포함합니다.
  
- **src/data_ingestor.ex:**  
  외부 데이터 소스로부터 실시간 데이터를 수신하는 인제스터 모듈입니다.
  
- **src/stream_processor.ex:**  
  데이터 처리 파이프라인을 구성하는 모듈로, 수신된 데이터를 필터링, 변환, 집계하는 역할을 수행합니다.
  
- **src/data_transmitter.ex:**  
  처리된 데이터를 최종 대상으로 전송하거나 저장하는 기능을 담당하는 모듈입니다.
  
- **README.md:**  
  이 문서는 프로젝트 개요, 설치 및 실행 방법, 시스템 아키텍처, 코드 구조, 예제 사용 시나리오, 개발 및 확장 계획 등을 상세히 설명합니다.

---

## 예제 사용 시나리오

1. **시스템 시작:**  
   `RealTimeDataStreaming.start()`를 통해 전체 데이터 스트리밍 시스템을 초기화하고 실행합니다.
   
2. **데이터 인제스트:**  
   각 데이터 인제스터가 센서, 로그 파일, API 등 다양한 소스에서 데이터를 실시간으로 수집합니다.
   
3. **데이터 처리:**  
   수신된 데이터는 스트림 처리 파이프라인을 통해 필터링, 변환, 집계 등의 작업을 수행하며, 실시간 분석에 적합한 형태로 가공됩니다.
   
4. **데이터 전송:**  
   처리된 데이터는 데이터베이스, 캐시, 대시보드 등 외부 시스템으로 전송되어 실시간 모니터링 및 분석에 활용됩니다.
   
5. **분산 처리 및 동기화:**  
   클러스터 환경에서 여러 노드가 데이터를 분산 처리하고, 데이터 동기화를 통해 높은 확장성과 내결함성을 보장합니다.
   
6. **오류 복구:**  
   Supervisor가 각 모듈의 장애를 감시하며, 오류 발생 시 자동 재시작을 통해 시스템 연속성을 유지합니다.

---

## 개발 및 확장 계획

- **데이터 소스 확장:**  
  추가적인 IoT 기기, 로그 수집, 소셜 미디어 API 등 다양한 데이터 소스와의 연동을 강화합니다.
  
- **실시간 분석 및 예측:**  
  스트림 처리 결과를 기반으로, 실시간 분석 및 예측 모델을 도입하여, 이상 징후를 사전에 감지하는 기능을 추가할 예정입니다.
  
- **웹 기반 대시보드:**  
  실시간 데이터와 처리 결과를 시각화하는 웹 대시보드를 개발하여, 운영자가 시스템 상태를 한눈에 모니터링할 수 있도록 합니다.
  
- **보안 강화:**  
  데이터 전송 시 암호화, 인증, 접근 제어 등 보안 기능을 추가하여, 민감한 데이터의 안전한 처리를 보장합니다.
  
- **확장성 최적화:**  
  클러스터링 및 분산 처리 알고리즘을 최적화하여, 대규모 데이터 스트리밍 환경에서도 안정적인 성능을 유지할 수 있도록 합니다.

---

## 참고 자료

- [Programming Erlang - Joe Armstrong](https://pragprog.com/titles/jjoe/programming-erlang/)
- [Learn You Some Erlang for Great Good! - Fred Hebert](http://learnyousomeerlang.com/)
- [Elixir 공식 문서](https://hexdocs.pm/elixir/)
- [OTP Design Principles](https://erlang.org/doc/design_principles/)

---

이 프로젝트는 OTP와 Elixir의 핵심 개념을 실전에서 체험하며, 대규모 실시간 데이터 스트리밍 환경에서 안정적이고 확장 가능한 시스템을 구축하는 방법을 배울 수 있도록 설계되었습니다.  
의견이나 개선 사항은 [이슈 트래커](https://github.com/your-repo/real-time-data-streaming/issues)를 통해 공유해 주시기 바랍니다.

Happy coding!