# 실시간 모니터링 및 경보 시스템 프로젝트

## 프로젝트 개요
이 프로젝트는 OTP와 Elixir의 강력한 동시성, 분산 처리 및 내결함성 기능을 활용하여 **실시간 모니터링 및 경보 시스템**을 구현한 예제입니다.  
시스템은 서버, 애플리케이션 및 인프라의 상태, 성능 지표, 로그 등 다양한 데이터를 실시간으로 수집 및 분석하고, 이상 징후나 임계치를 초과하는 상황이 감지되면 관리자에게 즉각적인 경보를 발송합니다.  
이로써 운영 중인 시스템의 안정성을 높이고, 빠른 문제 대응이 가능하도록 설계되었습니다.

---

## 주요 기능
- **실시간 데이터 수집 및 모니터링:**  
  - 서버 및 애플리케이션의 CPU, 메모리, 네트워크 사용량 등 다양한 성능 지표를 주기적으로 수집합니다.
  - 로그 및 이벤트 데이터를 실시간으로 캡처하여 분석합니다.
  
- **경보 및 알림:**  
  - 미리 정의된 임계치를 초과하는 경우, 이메일, SMS, 슬랙 등의 채널을 통해 경보를 발송합니다.
  - 긴급 상황 발생 시 자동으로 관리자에게 알림을 전달합니다.
  
- **이벤트 로깅 및 분석:**  
  - 발생하는 모든 이벤트와 경보를 로그로 기록하여, 후속 분석 및 문제 해결에 활용합니다.
  
- **자동 장애 복구:**  
  - Supervisor가 각 모니터링 에이전트 및 경보 프로세스를 감시하여, 오류 발생 시 자동 재시작을 수행합니다.
  
- **분산 클러스터 구성:**  
  - 여러 노드에 걸쳐 모니터링 에이전트를 배포하여, 확장성과 고가용성을 보장합니다.

---

## 시스템 아키텍처

### 프로세스 구조
- **모니터 에이전트 (Monitor Agent):**  
  - 각 서버나 노드에서 시스템 상태와 성능 데이터를 주기적으로 수집합니다.
  - 수집한 데이터를 중앙의 경보 관리 시스템에 전송합니다.
  
- **Alert Manager (경보 관리자):**  
  - 모니터 에이전트로부터 수신한 데이터를 분석하여, 임계치 초과나 이상 징후가 발견되면 경보를 발송합니다.
  - 발생한 경보를 이벤트 로거에 기록합니다.
  
- **이벤트 로거 (Event Logger):**  
  - gen_event를 사용하여 모든 모니터링 이벤트와 경보 기록을 저장합니다.
  - 추후 분석이나 보고를 위한 로그 데이터를 제공합니다.
  
- **Supervisor 트리:**  
  - 모니터 에이전트, Alert Manager, 이벤트 로거 등 모든 프로세스의 생명주기를 관리하고, 오류 발생 시 자동으로 재시작하여 시스템의 내결함성을 확보합니다.
  
- **분산 노드 통신:**  
  - 여러 노드 간의 데이터 동기화와 메시지 전달을 위해 Erlang의 분산 기능을 활용합니다.

### OTP 구성 요소 활용
- **GenServer:**  
  - 모니터 에이전트와 Alert Manager의 상태 관리 및 데이터 처리를 담당합니다.
  
- **Supervisor:**  
  - 각 모듈의 오류를 감시하고, 실패 시 자동으로 재시작합니다.
  
- **GenEvent:**  
  - 이벤트 로거 모듈에서 사용되어, 모든 이벤트 및 경보를 체계적으로 기록합니다.
  
- **ETS:**  
  - 실시간 데이터 캐싱 및 빠른 조회를 위한 인메모리 데이터 저장소로 활용할 수 있습니다.

---

## 설치 및 실행 방법

### 요구 사항
- Erlang/OTP 24 이상
- Elixir 1.12 이상
- Linux, macOS 또는 Windows 운영체제
- 네트워크 연결 및 분산 클러스터 구성 환경 (분산 기능 사용 시)

### 설치 방법

1. **Erlang/OTP 및 Elixir 설치**
   - **Ubuntu/Debian:**
     ```bash
     sudo apt-get update
     sudo apt-get install erlang elixir
     ```
   - **macOS (Homebrew):**
     ```bash
     brew install erlang elixir
     ```
   - **Windows:**
     - [Elixir 공식 웹사이트](https://elixir-lang.org/install.html)에서 설치 프로그램을 다운로드하거나, Chocolatey를 이용:
       ```bash
       choco install erlang
       choco install elixir
       ```

2. **프로젝트 클론**
   ```bash
   git clone https://github.com/your-repo/real-time-monitoring-alert-system.git
   cd real-time-monitoring-alert-system
   ```

3. **컴파일**
   - 프로젝트 루트 디렉토리에서 Mix를 사용하여 소스 파일들을 컴파일합니다.
     ```bash
     mix compile
     ```

### 실행 방법

1. **IEx 셸 시작**
   ```bash
   iex -S mix
   ```

2. **모니터링 시스템 시작**
   - IEx 셸에서 모니터링 및 경보 시스템을 시작합니다.
     ```elixir
     MonitoringSystem.start()
     ```
   - 시스템은 모니터 에이전트, Alert Manager, 이벤트 로거 등을 포함하는 Supervisor 트리를 초기화하고 실행합니다.

3. **모니터링 데이터 확인 및 경보 테스트**
   - 시스템이 정상적으로 작동 중이면, 각 모니터 에이전트는 주기적으로 데이터를 수집하고, Alert Manager는 임계치를 초과하는 경우 경보를 발송합니다.
   - 예를 들어, 테스트 메시지를 전송하거나 임계치를 낮추어 경보 기능을 검증할 수 있습니다.
     ```elixir
     MonitoringSystem.simulate_alert(:high_cpu_usage)
     ```

4. **분산 클러스터 구성 (선택 사항)**
   - 여러 노드를 연결하여 분산 모니터링 및 경보 시스템을 구성하고, 노드 간 데이터 동기화 및 복제 기능을 테스트할 수 있습니다.
     ```elixir
     Node.connect(:"node2@hostname")
     MonitoringSystem.sync()
     ```

---

## 코드 구조

- **src/monitoring_system.ex:**  
  전체 모니터링 및 경보 시스템의 시작 및 초기화 로직을 포함하며, Supervisor 트리 구성을 담당하는 모듈입니다.
  
- **src/monitor_agent.ex:**  
  각 서버나 노드에서 시스템 상태 및 성능 데이터를 수집하는 모듈입니다.
  
- **src/alert_manager.ex:**  
  수집된 데이터를 분석하여 임계치 초과 시 경보를 발송하고, 이벤트 로거에 기록하는 모듈입니다.
  
- **src/event_logger.ex:**  
  gen_event를 사용하여 모든 모니터링 이벤트와 경보를 체계적으로 기록하는 모듈입니다.
  
- **README.md:**  
  이 문서는 프로젝트 개요, 설치 및 실행 방법, 시스템 아키텍처, 예제 사용 시나리오, 개발 및 확장 계획 등을 상세히 설명합니다.

---

## 예제 사용 시나리오

1. **시스템 시작:**  
   MonitoringSystem.start()를 통해 모니터링 시스템을 초기화하고, 모니터 에이전트 및 경보 관리자 프로세스를 실행합니다.
   
2. **데이터 수집:**  
   각 모니터 에이전트가 주기적으로 서버의 상태와 성능 데이터를 수집하여 Alert Manager에 전송합니다.
   
3. **경보 발생:**  
   Alert Manager가 수신한 데이터 중 임계치를 초과하는 경우, 즉시 경보를 발송하고 이벤트 로거에 해당 이벤트를 기록합니다.
   
4. **분산 동기화 및 복제:**  
   다수의 노드에 걸쳐 모니터링 데이터가 복제되어, 한 노드에서 장애가 발생해도 다른 노드에서 데이터를 확인할 수 있습니다.
   
5. **오류 복구:**  
   Supervisor가 각 프로세스의 상태를 감시하고, 오류 발생 시 자동으로 재시작하여 시스템 연속성을 유지합니다.

---

## 개발 및 확장 계획

- **외부 알림 연동:**  
  이메일, SMS, 슬랙 등 외부 알림 서비스를 연동하여, 경보 수신 채널을 다양화할 예정입니다.
  
- **웹 기반 대시보드:**  
  실시간 모니터링 데이터를 시각화하고, 시스템 상태를 한눈에 확인할 수 있는 웹 인터페이스를 도입할 계획입니다.
  
- **데이터 저장 및 분석:**  
  장기 저장 및 분석을 위해 수집된 이벤트 데이터를 데이터베이스와 연동하여, 추후 예측 분석 및 트렌드 분석 기능을 추가할 예정입니다.
  
- **보안 강화:**  
  모니터링 데이터 전송 시 암호화, 접근 제어, 인증 등의 보안 기능을 도입하여, 민감한 데이터가 안전하게 관리되도록 할 계획입니다.

---

## 참고 자료

- [Programming Erlang - Joe Armstrong](https://pragprog.com/titles/jjoe/programming-erlang/)
- [Learn You Some Erlang for Great Good! - Fred Hebert](http://learnyousomeerlang.com/)
- [Elixir 공식 문서](https://hexdocs.pm/elixir/)
- [OTP Design Principles](https://erlang.org/doc/design_principles/)

---

이 프로젝트는 OTP와 Elixir를 활용한 실시간 모니터링 및 경보 시스템의 핵심 개념을 실전에서 체험할 수 있도록 설계되었습니다.  
시스템의 상태 모니터링, 경보 발송, 분산 동기화 및 자동 장애 복구 기능을 통해 높은 가용성과 안정성을 보장하며, 실제 운영 환경에서의 적용 가능성을 검증할 수 있습니다.

의견이나 개선 사항은 [이슈 트래커](https://github.com/your-repo/real-time-monitoring-alert-system/issues)를 통해 공유해 주시기 바랍니다.

Happy coding!