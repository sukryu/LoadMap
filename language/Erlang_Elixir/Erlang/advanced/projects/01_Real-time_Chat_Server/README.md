# 실시간 채팅 서버 프로젝트

## 프로젝트 개요
이 프로젝트는 Erlang/OTP의 강력한 동시성, 분산 처리 및 오류 복구 메커니즘을 활용하여 **실시간 채팅 서버**를 구현한 예제입니다.  
본 시스템은 여러 클라이언트가 동시에 연결되어 실시간으로 메시지를 주고받을 수 있도록 설계되었으며, OTP의 gen_server, supervisor, 그리고 분산 통신 기능을 중심으로 구성되어 있습니다.

## 주요 기능
- **실시간 메시지 브로드캐스트:**  
  연결된 모든 클라이언트에게 메시지를 동시에 전달합니다.
- **개별 클라이언트 관리:**  
  각 클라이언트와의 연결을 독립적인 프로세스로 관리하여 장애가 발생해도 전체 시스템에 영향을 주지 않습니다.
- **오류 복구 및 재시작:**  
  Supervisor를 이용하여 클라이언트 프로세스나 서버 프로세스가 예기치 않게 종료되더라도 자동으로 재시작됩니다.
- **분산 통신 지원:**  
  노드 간 연결을 통해 시스템 확장이 가능하며, 분산 환경에서도 안정적인 채팅 서비스를 제공합니다.

## 시스템 아키텍처
프로젝트는 OTP의 주요 구성 요소들을 기반으로 다음과 같이 구성됩니다.

### 프로세스 구조
- **채팅 서버 프로세스:**  
  클라이언트 연결 관리, 메시지 수신 및 브로드캐스트를 담당합니다.
- **클라이언트 핸들러 프로세스:**  
  각 클라이언트의 연결 및 개별 메시지 송수신을 처리합니다.
- **Supervisor 트리:**  
  채팅 서버와 클라이언트 핸들러 프로세스의 생명주기를 관리하며, 오류 발생 시 자동 복구를 수행합니다.

### OTP 구성 요소 활용
- **gen_server:**  
  클라이언트와의 메시지 처리를 위한 서버 로직 구현.
- **supervisor:**  
  서버와 클라이언트 프로세스를 감시하고, 실패 시 재시작하는 전략 적용.
- **분산 처리:**  
  여러 노드에 걸쳐 채팅 서버를 확장할 수 있도록 Erlang의 분산 기능 활용.

## 설치 및 실행 방법

### 요구 사항
- Erlang/OTP 24 이상
- Linux, macOS, 또는 Windows 운영체제
- 터미널 또는 명령 프롬프트 환경

### 설치 방법

1. **Erlang/OTP 설치**
   - **Ubuntu/Debian:**
     ```bash
     sudo apt-get update
     sudo apt-get install erlang
     ```
   - **macOS:**
     ```bash
     brew install erlang
     ```
   - **Windows:**
     - Erlang 공식 웹사이트에서 인스톨러를 다운로드하거나, Chocolatey를 통해 설치:
       ```bash
       choco install erlang
       ```

2. **프로젝트 클론**
   ```bash
   git clone https://github.com/your-repo/real-time-chat-server.git
   cd real-time-chat-server
   ```

3. **컴파일**
   - `src` 디렉토리에 있는 Erlang 소스 파일들을 컴파일하여 `ebin` 디렉토리에 출력합니다.
     ```bash
     erlc -o ebin src/*.erl
     ```

### 실행 방법

1. **Erlang 쉘 시작**
   ```bash
   erl -pa ebin
   ```

2. **채팅 서버 시작**
   - Erlang 쉘에서 채팅 서버를 시작합니다.
     ```erlang
     real_time_chat_server:start().
     ```
   - 서버는 클라이언트 연결을 기다리며, 연결된 클라이언트에게 메시지를 브로드캐스트할 준비를 합니다.

3. **클라이언트 연결**
   - 별도의 터미널이나 노드에서 Erlang 쉘을 열고, 클라이언트 모듈을 실행하여 서버에 접속합니다.
     ```erlang
     chat_client:start().
     ```
   - 클라이언트는 서버와의 연결을 통해 실시간 채팅 기능을 사용할 수 있습니다.

4. **메시지 전송**
   - 연결된 클라이언트에서 메시지 전송 기능을 사용하면, 서버는 해당 메시지를 받아 모든 클라이언트로 전파합니다.

## 코드 구조

- **src/real_time_chat_server.erl:**  
  채팅 서버의 핵심 로직을 담고 있는 모듈. 클라이언트 연결 관리, 메시지 브로드캐스트 등의 기능을 구현합니다.
  
- **src/chat_client.erl:**  
  클라이언트 연결 및 메시지 송수신을 처리하는 모듈. 서버와의 상호작용을 담당합니다.
  
- **src/supervisor_chat.erl:**  
  Supervisor 트리 구성을 통해 채팅 서버 및 클라이언트 핸들러 프로세스의 생명주기를 관리합니다.
  
- **README.md:**  
  이 문서로, 프로젝트 개요와 실행 방법, 아키텍처 등을 상세히 설명합니다.

## 예제 사용 시나리오
1. **서버 시작:**  
   채팅 서버를 실행하여 클라이언트 연결을 대기합니다.
2. **클라이언트 접속:**  
   여러 클라이언트가 각각의 터미널에서 `chat_client:start().` 명령으로 서버에 접속합니다.
3. **메시지 브로드캐스트:**  
   한 클라이언트에서 메시지를 전송하면, 서버는 이를 받아 모든 연결된 클라이언트에게 전달합니다.
4. **오류 복구:**  
   클라이언트나 서버 프로세스가 예기치 않게 종료되면, Supervisor가 자동으로 재시작하여 시스템의 안정성을 보장합니다.

## 개발 및 테스트
- **개발 환경:**  
  Erlang/OTP R24 이상, VSCode 또는 다른 Erlang 지원 IDE
- **테스트:**  
  각 모듈에 대해 단위 테스트 및 통합 테스트를 수행하여 시스템 안정성을 확인합니다.

## 확장 계획
- **분산 채팅:**  
  여러 노드를 연결하여 분산 환경에서 채팅 서버를 확장 운영할 수 있도록 개선.
- **웹 인터페이스:**  
  웹소켓 기반의 웹 클라이언트 지원 추가.
- **보안 강화:**  
  클라이언트 인증, 메시지 암호화 등 보안 기능 강화.

## 참고 자료
- [Programming Erlang - Joe Armstrong](https://pragprog.com/titles/jjoe/programming-erlang/)
- [Learn You Some Erlang for Great Good! - Fred Hebert](http://learnyousomeerlang.com/)
- [Erlang 공식 문서](https://www.erlang.org/docs)

---

이 프로젝트는 OTP의 핵심 개념을 실전에서 체험할 수 있는 좋은 예제입니다.  
의견이나 개선 사항이 있으시면 [이슈 트래커](https://github.com/your-repo/real-time-chat-server/issues)를 통해 공유해 주시기 바랍니다.

Happy coding!