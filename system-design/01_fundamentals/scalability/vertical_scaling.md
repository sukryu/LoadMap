# 수직적 확장 (Vertical Scaling)

---

## 1. 개념 개요

**수직적 확장**은 단일 서버의 하드웨어 자원(CPU, 메모리, 디스크, 네트워크 대역폭 등)을 업그레이드하여 시스템의 처리 능력을 향상시키는 방법입니다.  
수평적 확장이 여러 대의 서버를 추가하는 방식이라면, 수직적 확장은 기존 서버의 성능 자체를 높이는 방식입니다.

- **정의:**  
  - 단일 서버의 하드웨어 성능(프로세서, 메모리, 스토리지 등)을 강화하여, 애플리케이션이 더 많은 부하를 처리할 수 있도록 하는 확장 방법.
  
- **특징:**  
  - **즉각적 성능 향상:**  
    - 서버의 하드웨어 업그레이드를 통해 단기간에 성능을 개선할 수 있습니다.
  - **구현 용이성:**  
    - 소프트웨어 구성 변경 없이 하드웨어 자원만 증설하면 되므로, 시스템 아키텍처 자체의 변경 없이 확장이 가능합니다.
  - **관리 단순성:**  
    - 여러 대의 서버를 관리할 필요 없이 단일 서버에서 모든 처리를 수행하므로, 관리가 상대적으로 간편합니다.

---

## 2. 문제 상황과 해결 방안

### 2.1. 문제 상황

- **자원 한계:**  
  - 단일 서버는 물리적 자원의 한계가 있으므로, 일정 시점 이상 성능 향상이 어려울 수 있습니다.
  
- **단일 장애점 (Single Point of Failure):**  
  - 모든 부하가 한 서버에 집중되므로, 해당 서버에 장애가 발생하면 전체 시스템이 영향을 받을 위험이 있습니다.
  
- **비용 증가:**  
  - 고성능 하드웨어는 비용이 많이 들며, 성능 대비 비용 효율성이 떨어질 수 있습니다.

### 2.2. 해결 방안

- **하드웨어 업그레이드:**  
  - CPU, 메모리, 스토리지 등의 업그레이드를 통해 성능을 강화합니다.
  
- **가상화 및 컨테이너 활용:**  
  - 가상 머신(VM)이나 컨테이너 환경에서 리소스 할당량(CPU, 메모리)을 조정하여, 단일 서버 내에서 최적의 성능을 낼 수 있도록 구성합니다.
  
- **모니터링 및 자원 관리:**  
  - 서버의 리소스 사용률을 지속적으로 모니터링하고, 병목 현상이 발생할 경우 즉각적인 하드웨어 증설이나 최적화 작업을 수행합니다.

---

## 3. 구체적 구현 방법 및 베스트 프랙티스

### 3.1. 구현 방법 예시

수직적 확장은 주로 인프라와 관련된 설정이나 클라우드 플랫폼의 옵션을 통해 이루어집니다.  
예를 들어, AWS EC2 인스턴스의 경우, 인스턴스 타입을 변경하여 CPU와 메모리를 늘릴 수 있습니다.

**클라우드 인스턴스 업그레이드 예시 (AWS EC2):**

1. **인스턴스 중지:**  
   - 기존 인스턴스를 중지합니다.
2. **인스턴스 유형 변경:**  
   - AWS Management Console 또는 CLI를 사용하여 인스턴스 유형(예: t3.medium에서 m5.large로)을 변경합니다.
3. **인스턴스 재시작:**  
   - 변경된 인스턴스를 재시작하여 새로운 하드웨어 자원을 적용합니다.

**Docker 컨테이너 자원 제한 변경 예시:**

*docker-compose.yml* 파일 내에서 CPU와 메모리 제한을 설정할 수 있습니다.
```yaml
version: '3.8'
services:
  app:
    image: your-app-image
    deploy:
      resources:
        limits:
          cpus: '2.0'
          memory: 4G
        reservations:
          cpus: '1.0'
          memory: 2G
    ports:
      - "3000:3000"
```
- **설명:**  
  - `limits`는 컨테이너가 사용할 수 있는 최대 CPU와 메모리 자원을 지정합니다.
  - `reservations`는 컨테이너가 보장받는 최소 자원입니다.

### 3.2. 베스트 프랙티스

- **모니터링 및 경고 시스템:**  
  - CPU, 메모리, 디스크 I/O 등의 지표를 모니터링하고, 임계치에 도달했을 때 경고를 받을 수 있도록 설정합니다.
  - AWS CloudWatch, Prometheus, Grafana 등을 활용합니다.
  
- **자원 사용 최적화:**  
  - 애플리케이션의 성능 병목을 분석하고, 코드 최적화, 캐싱 전략 등으로 자원 사용률을 개선합니다.
  
- **가상화 및 컨테이너 오케스트레이션:**  
  - 가상 머신이나 컨테이너 환경에서 자원 할당량을 동적으로 조절할 수 있도록 설정합니다.
  
- **주기적인 하드웨어 평가:**  
  - 비즈니스 성장에 따라 현재 서버의 성능 한계를 주기적으로 평가하고, 필요시 고성능 서버로의 이전 또는 업그레이드를 고려합니다.

---

## 4. 추가 고려 사항

- **확장 한계:**  
  - 수직적 확장은 하드웨어의 물리적 한계로 인해 무한정 확장이 어려우며, 일정 규모 이후에는 수평적 확장(클러스터링)과의 조합이 필요합니다.
  
- **단일 장애점:**  
  - 모든 부하가 한 서버에 집중되므로, 단일 서버 장애에 대비한 백업 및 장애 복구 계획을 마련해야 합니다.
  
- **비용 효율성:**  
  - 고성능 서버는 비용이 많이 들 수 있으므로, 성능 향상 대비 비용 효율성을 분석하여 적절한 하드웨어 업그레이드를 결정합니다.

---

## 5. 결론

**수직적 확장**은 단일 서버의 하드웨어 성능을 강화하여, 성능 부하를 해결하는 간단하면서도 효과적인 확장 방법입니다.

- **장점:**  
  - 인프라 구조 변경 없이, 하드웨어 업그레이드만으로 빠른 성능 개선이 가능합니다.
  - 단일 서버에서 모든 처리를 수행하므로, 관리 및 모니터링이 상대적으로 단순합니다.
  
- **단점:**  
  - 물리적 자원 한계와 단일 장애점 문제로 인해, 일정 규모 이상으로는 한계가 존재합니다.
  - 고성능 하드웨어의 비용 증가와 함께, 확장에 따른 비용 효율성 검토가 필요합니다.

따라서, 수직적 확장은 초기 또는 중간 규모의 시스템에서 빠른 성능 개선이 필요할 때 효과적이며, 이후 시스템 확장이 요구되면 수평적 확장과의 병행 또는 전환을 고려하는 것이 바람직합니다.