# 운영체제 OS(Operating system) 

1. 운영체제란 무엇인가?

    1. 정의:
        - 운영체제(OS, Operating System)는 컴퓨터 하드웨어와 응용 프로그램 사이에서 동작하는 시스템 소프트웨어의 핵심 구성 요소입니다.
        운영체제는 사용자 및 응용 프로그램이 하드웨어를 효율적이고 안전하게 사용할 수 있도록 다양한 서비스를 제공합니다.

    2. 운영체제의 역할:

        1. 자원 관리자 (Resource Manager):
            - 프로세서(CPU), 메모리(RAM), 디스크(Storage), 입출력 장치(I/O Devices)등 시스템 자원을 관리하고 할당합니다.
            - 여러 응용 프로그램이 동시에 실행될 때 자원의 충돌 없이 효율적으로 사용할 수 있도록 스케줄링 합니다.

        2. 사용자와 하드웨어 간의 인터페이스 제공:
            - 사용자나 응용 프로그램이 하드웨어의 복잡한 세부 사항을 알 필요 없이 추상화된 인터페이스를 통해 시스템을 사용할 수 있게 해줍니다.
            - 시스템 호출(System Call) 및 **API(Application Programming Interface)**를 통해 응용 프로그램이 운영체제의 기능을 활용할 수 있습니다.

        3. 프로그램 실행 환경 제공:
            - 응용 프로그램이 실행될 수 있는 환경을 조성하고, 필요한 서비스를 제공합니다.
            - 프로세스 관리, 메모리 관리, 파일 시스템 등을 통해 프로그램이 원활하게 동작하도록 지원합니다.

        4. 보안 및 보호:
            - 시스템 자원 및 데이터의 무결성을 유지하고, **인증(Authentication)**과 **인가(Authorization)**를 통해 접근 권한을 관리합니다.
            - 다중 사용자 환경에서 각 사용자의 데이터와 프로세스를 보호합니다.

        5. 에러 탐지 및 대응:
            - 시스템 내에서 발생하는 다양한 에러를 감지하고, 이를 처리하거나 사용자에게 알립니다.
            - 하드웨어 오류, 프로그램 오류, 자원 부족 등의 상황에서 시스템의 안정성을 유지합니다.

    3. 운영 체제의 역사

        1. 초기 컴퓨터와 일괄 처리 시스템 (Batch Processing Systems):
            - 초기 컴퓨터에서는 운영체제가 존재하지 않았으며, 사용자가 기계를 직접 조작하여 프로그램을 실행했습니다.
            - 일괄 처리 시스템은 작업을 모아서 순차적으로 처리하는 방식으로, 초기 운영체제의 형태였습니다.

        2. 다중 프로그래밍 (MultiProgramming):
            - CPU의 효율적인 사용을 위해 여러 프로그램을 메모리에 적재하고, CPU가 유휴 상태가 되지 않도록 스케줄링하는 기법입니다.
            - 이는 운영체제가 프로세스 관리 및 메모리 관리 기능을 발전시키는 계기가 되었습니다.

        3. 시분할 시스템 (Time-Sharing Systems):
            - 여러 사용자가 동시에 시스템을 사용할 수 있도록 각 사용자에게 일정 시간 동안 CPU를 할당하는 방식입니다.
            - 이는 대화형 컴퓨팅의 시대를 열었으며, 사용자 인터페이스와 프로세스 간 통신 등의 기능이 강조되었습니다.

        4. 분산 시스템 (Distributed Systems):
            - 네트워크로 연결된 여러 컴퓨터가 협력하여 작업을 수행하는 시스템입니다.
            - 운영체제는 네트워크 통신, 자원 공유, 분산 파일 시스템 등의 기능을 제공합니다.

        5. 개인용 컴퓨터(PC)와 모바일 운영체제:
            - PC의 등장으로 사용자는 개인이 전용으로 사용하는 컴퓨터를 갖게 되었으며, 이에 맞는 운영체제가 개발되었습니다.
            - 모바일 기기의 발전으로 iOS, Android 등 모바일 운영체제가 등장하여 사용자 경험에 중점을 둔 기능을 제공합니다.

    4. 운영체제의 분류

        1. 단일 사용자 vs 다중 사용자:
            - 단일 사용자 운영체제: 한 번에 한 명의 사용자만 시스템을 사용할 수 있습니다. 예: MS-DOS
            - 다중 사용자 운영체제: 동시에 여러 사용자가 시스템을 사용할 수 있습니다. 예: UNIX, Linux

        2. 단일 작업 vs 다중 작업:
            - 단일 작업 운영체제: 한 번에 하나의 작업만 수행합니다.
            - 다중 작업 운영체제: 여러 작업을 동시에 수행할 수 있습니다.

        3. 실시간 운영체제 (Real-Time OS):
            - 시간 제약 조건 하에서 작업을 처리해야 하는 시스템에 사용됩니다.
            - 산업 제어 시스템, 의료 기기, 항공기 제어 시스템 등에 사용됩니다.

        4. 임베디드 운영체제(Embedded OS):
            - 특수 목적 기기에 내장되어 특정 기능을 수행하는 운영체제입니다.
            - 예: 자동차 제어 시스템, 가전 제품


    5. 운영체제의 예시:
        - Windows: 마이크로소프트에서 개발한 GUI 기반의 운영체제
        - UNIX: 다중 사용자, 다중 작업을 지원하는 운영체제의 하나로, 안정성과 보안성이 높습니다.
        - Linux: UNIX 기반의 오픈 소스 운영체제
        - macOS: 애플에서 개발한 UNIX 기반의 운영체제
        - Android: 모바일 기기를 위한 Linux 기반의 운영체제
        - iOS: 애플의 모바일 기기를 위한 운영체제

2. 운영체제의 구성 요소

    1. 커널(Kernel)
        - 정의:
            - 운영체제의 핵심 부분으로, 시스템의 모든 자원과 기능을 관리합니다.
            - 하드웨어와 직접 상호 작용하며, 응용 프로그램이 하드웨어를 사용할 수 있도록 서비스와 인터페이스를 제공합니다.\

        - 구조:
            1. 모놀리식 커널(Monolithic Kernel):
                - 커널의 모든 기능이 하나의 커다란 프로그램 내에 포함되어 있습니다.
                - 장점: 커널 내에서 함수 호출로 기능을 수행하므로 성능이 우수합니다.
                - 단점: 커널이 크고 복잡하여 유지보수가 어렵습니다.

            2. 마이크로커널(Microkernel):
                - 최소한의 필수 기능만 커널 모드에서 수행하고, 나머지 기능은 사용자 모드에서 서버 형태로 수행합니다.
                - 장점: 안정성과 보안성이 높으며, 모듈화가 잘 되어 있습니다.
                - 단점: 사용자 모드와 커널 모드 간의 빈번한 통신으로 성능이 저하될 수 있습니다.

            3. 하이브리드 커널(Hybrid kernel):
                - 모놀리식 커널과 마이크로커널의 장점을 결합한 구조입니다.
                - 예: Windows NT 커널, macOS의 XNU 커널

        - 주요 기능:
            1. 프로세스 관리:
                - 프로세스 생성과 종료: 새로운 프로세스를 생성하고 필요 시 종료합니다.
                - 스케줄링: CPU 시간을 각 프로세스에 할당하여 효율적으로 사용합니다.
                - 동기화와 통신: 프로세스 간의 동기화 및 통신을 지원합니다.

            2. 메모리 관리:
                - 메모리 할당 및 해제: 프로세스에 메모리를 동적으로 할당하고 해제합니다.
                - 가상 메모리: 물리적 메모리보다 큰 주소 공간을 사용할 수 있도록 지원합니다.
                - 메모리 보호: 프로세스 간의 메모리 침범을 방지합니다.

            3. 파일 시스템 관리:    
                - 파일 저장과 접근: 파일의 생성, 삭제, 읽기, 쓰기 등을 관리합니다.
                - 디렉토리 구조 관리: 파일 시스템의 구조를 유지하고 탐색 기능을 제공합니다.
                - 파일 접근 권한 관리: 사용자와 그룹에 따른 파일 접근 권한을 제어합니다.

            4. 장치 드라이버 관리:
                - 하드웨어 장치와의 통신: 각종 입출력 장치와 시스템 간의 데이터를 주고받습니다.
                - 장치 독립성 제공: 응용 프로그램이 하드웨어의 세부 사항을 알 필요 없이 장치를 사용할 수 있게 합니다.

            5. 보호와 보안:
                - 접근 제어: 시스템 자원에 대한 접근 권한을 관리합니다.
                - 인증: 사용자나 프로세스의 신원을 확인합니다.
                - 암호화와 감시: 데이터의 기밀성을 유지하고 시스템 활동을 기록합니다.
            

    2. 시스템 호출 (System Call)
        1. 정의:
            - 응용 프로그램이 운영체제의 서비스를 요청하기 위해 사용하는 인터페이스입니다.
            - 시스템 호출을 통해 응용 프로그램은 파일 작업, 프로세스 관리, 통신 등 다양한 운영체제 기능을 사용할 수 있습니다.

        2. 시스템 호출의 종류:

            1. 프로세스 제어:
                - `fork()`: 새로운 프로세스를 생성합니다.
                - `exec()`: 현재 프로세스를 새로운 프로그램으로 대체합니다.
                - `exit()`: 프로세스를 종료합니다.
                - `wait()`: 자식 프로세스의 종료를 기다립니다.

            2. 파일 조작:
                - `open()`: 파일을 엽니다.
                - `read()`: 파일에서 데이터를 읽습니다.
                - `write()`: 파일에 데이터를 씁니다.
                - `close()`: 파일을 닫습니다.

            3. 장치 관리:
                - `ioctl()`: 입출력 장치의 속성을 설정하거나 가져옵니다.
                - `read()`, `write()`: 장치에서 데이터를 읽거나 씁니다.

            4. 정보 유지:
                - `getpid()`: 프로세스 ID를 가져옵니다.
                - `alram()`: 지정된 시간 후에 신호를 보냅니다.
                - `sleep()`: 지정된 시간 동안 프로세스를 대기 상대로 만듭니다.

            5. 통신:
                - 파이프(Pipes): `pipe()`
                - 소켓(Sockets): `socket()`, `connect()`, `accept()`

        3. 시스템 호출의 작동 원리
            - **사용자 모드(User Mode)**와 **커널 모드(kernel Mode)**
                - 응용 프로그램은 사용자 모드에서 실행되며, 하드웨어 자원에 직접 접근할 수 없습니다.
                - 시스템 호출을 통해 커널 모드로 전환되어 운영체제의 서비스를 사용할 수 있습니다.

            - 시스템 호출 과정:
                1. 응용 프로그램이 시스템 호출 라이브러리 함수를 호출합니다.
                2. 라이브러리 함수는 시스템 호출 번호와 인자를 설정하고, 소프트웨어 인터럽트를 발생시켜 커널 모드로 전환합니다.
                3. 커널은 시스템 호출 번호에 해당하는 커널 함수를 실행합니다.
                4. 실행 결과를 레지스터나 메모리에 저장하고, 사용자 모드로 복귀합니다.
                5. 응용 프로그램은 반환된 결과를 확인하고 다음 작업을 수행합니다.
        

    3. 사용자 인터페이스
        
        1. 명령줄 인터페이스 (CLI, Command Line Interface)
            - 정의:
                - 사용자가 텍스트 기반의 명령어를 입력하여 시스템을 제어하는 방식입니다.
            
            - 특징:
                - 경량성: 리소스 사용이 적습니다.
                - 유연성: 스크립트 작성 및 자동화에 용이합니다.
                - 학습 곡선: 명령어와 옵션을 숙지해야 하므로 초보자에게는 어려울 수 있습니다.

            - 예시:
                - UNIX/Linux의 Bash Shell
                - Windows의 Command Prompt, PowerShell

        2. 그래픽 사용자 인터페이스(GUI, Graphical User Interface)
            - 정의:
                - 그래픽 요소(아이콘, 윈도우, 메뉴 등)를 사용하여 시스템을 제어하는 방식입니다.
            
            - 특징:
                - 사용자 친화적: 직관적인 조작인 가능하여 초보자도 쉽게 사용할 수 있습니다.
                - 리소스 사용량: 그래픽 요소로 인해 시스템 자원을 더 많이 소비합니다.
            
            - 예시:
                - Windows의 윈도우즈 데스크탑
                - macOS의 Aqua 인터페이스
                - Linux의 GNOME, KDE

        3. 쉘(Shell)
            - 정의:
                - 사용자와 운영체제의 커널 사이에서 명령을 해석하고 전달하는 프로그램입니다.

            - 종류:
                - Bourne Shell (sh)
                - Bash (Bourne Again Shell)
                - Z Shell (zsh)
                - C Shell (czh)

            - 기능:
                - 명령어 해석 및 실행
                - 프로그래밍 기능: 변수, 제어구조, 함수 등을 지원하여 스크립트 작성이 가능합니다.
                - 환경 설정 및 커스터마이징

3. 프로세스와 스레드

    1. 프로세스(Process)
        - 정의: 실행 중인 프로그램의 인스턴스입니다.

        - 구성 요소:
            - 프로그램 코드(텍스트 섹션)
            - 프로세스 상태
            - 프로그램 카운터
            - 레지스터
            - 메모리 주소 공간
            - 입출력 상태 정보

    2. 스레드(Thread)
        - 정의: 프로세스 내에서 실행되는 작은 실행 단위입니다.
        - 특징:
            - 같은 프로세스 내의 다른 스레드과 메모리와 자원을 공유합니다.
            - 스레드를 사용하면 병렬 처리가 가능하여 성능을 향상시킬 수 있습니다.

4. 프로세스 관리
    
    1. 프로세스 상태:
        - 생성(New)
        - 준비(Ready)
        - 실행(Running)
        - 대기(Waiting)
        - 종료(Terminated)

    2. 스케줄러 (Scheduler)
        - 단기 스케줄러: 실행 가능한 프로세스 중에서 어떤 프로세스를 실행할지 결정합니다.
        - 중기 스케줄러: 메모리에서 프로세스를 들어오게 하거나 나가게 합니다.
        - 장기 스케줄러: 어떤 프로세스를 시스템에 받아들일지 결정합니다.

    3. 프로세스 스케줄링 알고리즘
        - FCFS(First-Come, First-Served): 먼저 온 프로세스부터 처리합니다.
        - SJF(Shortest Job First): 수행 시간이 가장 짧은 프로세스를 먼저 처리합니다.
        - Round Robin: 각 프로세스에게 동일한 시간량을 할당하여 순환합니다.
        - 우선순위 스케줄러: 우선순위가 높은 프로세스를 먼저 처리합니다.

5. 메모리 관리

    1. 메모리 계층 구조:
        - 레지스터: 가장 빠른 속도의 메모리로 CPU 내부에 있습니다.
        - 캐시 메모리: CPU와 메인 메모리 사이에서 데이터를 임시 저장합니다.
        - 메인 메모리 (RAM): 현재 실행 중인 프로그램과 데이터를 저장합니다.
        - 보조 기억 장치(HDD, SSD): 장기적인 데이터 저장을 담당합니다.

    2. 메모리 관리 기법:
        - 단일 연속 할당: 메모리를 한 프로세스에게 모두 할당하는 방식입니다.
        - 고정 분할: 메모리를 크기가 고정된 여러 개의 파티션으로 나눕니다.
        - 가변 분할: 프로세스의 크기에 따라 메모리를 동적으로 할당합니다.

    3. 가상 메모리:
        - 실제 메모리 크기보다 큰 주소 공간을 사용할 수 있게 해주는 기술입니다.
        - 페이지 교체 알고리즘: 필요한 페이지를 메모리에 적재하고, 필요 없는 페이지는 디스크로 내보냅니다.
            - FIFO(First-In, First-Out)
            - LRU(Least Recently Used)
            - OPT(Optimal Page Replacement)

6. 파일 시스템

    1. 파일의 개념
        - 데이터의 집합으로, 이름과 속성을 가집니다.
        - 파일 속성: 이름, 식별자, 유형, 위치, 크기, 보호 속성, 시간 정보 등.

    2. 디렉토리 구조
        - 파일을 체계적으로 관리하기 위한 구조입니다.
        - 단일 레벨 디렉토리
        - 2단계 디렉토리
        - 트리 구조 디렉토리
        - 그래프 구조 디렉토리

    3. 파일 시스템 관리
        - 파일 할당 방법:
            - 연속 할당: 파일을 연속된 블록에 저장합니다.
            - 연결 할당: 파일의 블록들을 연결 리스트로 관리합니다.
            - 인덱스 할당: 인덱스 블록을 사용하여 파일의 블록들을 관리합니다.

7. 입출력 시스템

    1. 입출력 장치
        - 블록 장치: 디스크처럼 데이터를 블록 단위로 처리합니다.
        - 문자 장치: 키보드나 마우스처럼 데이터를 문자 단위로 처리합니다.

    2. 입출력 방식
        - 프로그램 I/O: CPU가 직접 입출력을 제어합니다.
        - 인터럽트 기반 I/O: 입출력 작업이 완료되면 장치가 CPU에 신호를 보냅니다.
        - DMA(Direct Memory Access): 장치가 메모리에 직접 접근하여 데이터를 전송합니다.

8. 보안과 보호

    1. 시스템 보호
        - 접근 제어: 사용자나 프로세스가 시스템 자원에 접근하는 것을 제어합니다.
        - 권한 관리: 각 사용자나 프로세스에게 적절한 권한을 부여합니다.

    2. 보안 위협과 대응
        - 악성 코드: 바이러스, 웜, 트로이 목마 등이 시스템을 위협합니다.
        - 인증과 인가: 사용자 확인과 권한 부여 과정을 통해 보안을 강화합니다.
        - 암호화: 데이터를 암호화하여 무단 접근을 방지합니다.

9. 병행성 제어

    1. 동시성 문제
        - 여러 프로세스나 스레드가 동시에 자원에 접근할 때 발생하는 문제입니다.
        - 경쟁 상태 (Race Condition): 두 개 이상의 프로세스가 공유 자원을 경쟁적으로 사용할 때 발생합니다.

    2. 상호 배제 (Mutual Exclusion)
        - 동시에 하나의 프로세스만 공유 자원에 접근할 수 있도록 합니다.
        - 세마포어 (Semaphore): 공유 자원의 접근을 제어하는 정수 변수입니다.
        - 모니터(Monitor): 고급 언어 수준에서 동기화를 지원하는 기법입니다.

10. 데드락 (교착 상태)
    
    1. 정의:
        - 두 개 이상의 프로세스가 서로 상대방이 점유한 자원을 기다리며 무한 대기하는 상태입니다.

    2. 데드락의 조건:
        - 상호 배제: 자원은 한 번에 한 프로세스만 사용할 수 있습니다.
        - 점유 대기: 자원을 점유한 상태에서 다른 자원을 기다립니다.
        - 비선점: 자원을 강제로 빼앗을 수 없습니다.
        - 환형 대기: 프로세스들이 원형으로 자원을 기다립니다.

    3. 데드락 처리 방법
        - 예방: 데드락 발생 조건 중 하나를 제거합니다.
        - 회피: 자원 할당 시 데드락이 발생하지 않도록 합니다. (은행가 알고리즘)
        - 탐지 및 복구: 데드락 발생을 허용하고, 이를 탐지하여 복구합니다.

11. 운영체제의 종류
    
    1. 단일 작업 운영체제
        - 한 번에 하나의 작업만 처리합니다.

    2. 다중 작업 운영체제
        - 여러 작업을 동시에 처리합니다.
        - 시분할 시스템: 각 작업에 일정 시간씩 CPU를 할당합니다.
        - 다중 프로세싱 시스템: 여러 CPU를 사용하여 작업을 병렬 처리합니다.

    3. 분산 운영체제
        - 네트워크로 연결된 여러 컴퓨터에서 자원을 공유하여 작업을 처리합니다.

    4. 실시간 운영체제
        - 정해진 시간 내에 작업을 처리해야 하는 시스템에 사용됩니다.
        - 경성 실시간 시스템: 시간 제한을 절대적으로 준수해야 합니다.
        - 연성 실시간 시스템: 시간 제한을 지키지 못해도 시스템이 동작은 합니다.
