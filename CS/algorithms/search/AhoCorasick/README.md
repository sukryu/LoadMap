# Aho-Corasick 알고리즘

## 개요
Aho-Corasick 알고리즘은 여러 패턴을 동시에 검색할 수 있는 효율적인 문자열 검색 알고리즘입니다.  
특히 바이러스 검사, 콘텐츠 필터링, 검색 엔진 등에서 다수의 패턴을 빠르게 찾아내는 데 유용합니다.  
이 알고리즘은 입력된 모든 패턴을 하나의 트라이(Trie) 자료구조에 구성하고, 실패 함수(failure function)와 출력 함수(output function)를 결합하여 텍스트를 한 번만 스캔하면서 모든 패턴의 매칭 결과를 찾습니다.

## 동작 원리
Aho-Corasick 알고리즘은 크게 세 단계로 이루어집니다:

1. **트라이(Trie) 구성:**  
   - 입력된 모든 패턴을 트라이 자료구조에 삽입합니다.  
   - 각 노드는 하나의 문자를 나타내며, 패턴의 끝에 도달하면 해당 패턴을 인식할 수 있도록 표시합니다.

2. **실패 함수 및 출력 함수 생성:**  
   - **실패 함수:**  
     - 각 노드에 대해, 현재 노드와 일치하지 않는 문자가 나타났을 때 이동할 노드를 미리 계산합니다.  
     - 이는 KMP 알고리즘의 부분 일치 테이블과 유사한 역할을 하며, 매칭 실패 시 효율적으로 백트래킹 없이 다음 비교 위치로 이동할 수 있게 합니다.
   - **출력 함수:**  
     - 각 노드가 패턴의 종료 지점이라면, 해당 노드에 매칭된 패턴 정보를 저장합니다.  
     - 실패 링크를 통해 다른 패턴 매칭 결과도 함께 출력할 수 있습니다.

3. **검색 단계:**  
   - 텍스트를 순차적으로 스캔하면서, 트라이 내에서 현재 상태(노드)를 갱신합니다.
   - 만약 매칭에 실패하면, 실패 함수를 이용해 적절한 노드로 이동한 후 계속 비교합니다.
   - 각 노드에서 출력 함수에 의해 매칭된 패턴을 기록합니다.

## 알고리즘 특징
- **시간 복잡도:**  
  - 전처리(트라이 구성 및 실패 함수 계산): 모든 패턴의 총 문자 수에 비례하여 O(Σ)  
  - 텍스트 검색: O(n + k), (n: 텍스트 길이, k: 매칭 결과 수)
- **공간 복잡도:**  
  - 트라이와 추가 배열에 의해 O(Σ)의 공간이 필요합니다.
- **장점:**  
  - 다중 패턴을 한 번에 검색할 수 있어, 대용량 텍스트 처리에 유리합니다.
  - 텍스트를 한 번만 스캔하여 모든 매칭 결과를 찾을 수 있습니다.
- **단점:**  
  - 초기 전처리(트라이 및 실패 함수 계산)에 추가 시간이 소요됩니다.
  - 패턴의 수와 길이에 따라 트라이의 메모리 사용량이 커질 수 있습니다.

## 활용 사례
- **바이러스 검사:** 여러 악성 코드 패턴을 동시에 검색하여 빠르게 감지합니다.
- **콘텐츠 필터링:** 부적절한 단어나 문구를 실시간으로 감지하고 차단합니다.
- **검색 엔진:** 다수의 검색어를 동시에 처리하여 문서 내 여러 키워드를 효율적으로 검색합니다.

## 참고 자료
- [Wikipedia - Aho–Corasick algorithm](https://en.wikipedia.org/wiki/Aho%E2%80%93Corasick_algorithm)
- [GeeksforGeeks - Aho-Corasick Algorithm](https://www.geeksforgeeks.org/aho-corasick-algorithm-pattern-searching/)
- [Baekjoon Online Judge](https://www.acmicpc.net/)